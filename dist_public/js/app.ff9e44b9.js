(function(){"use strict";var t={385:function(t,e,n){var r=n(963),s=n(252);function o(t,e,n,r,o,i){const a=(0,s.up)("Main");return(0,s.wg)(),(0,s.j4)(a,{state:o.state},null,8,["state"])}const i={class:"main"},a=["innerHTML"],u={id:"debug",ref:"debug"};function p(t,e,n,r,o,p){return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",{innerHTML:n.state.headerText},null,8,a),(0,s._)("textarea",{spellcheck:"false",ref:"scriptInput",id:"scriptInput",onKeydown:e[0]||(e[0]=t=>p.processInput()),onKeypress:e[1]||(e[1]=t=>p.processInput()),onInput:e[2]||(e[2]=t=>p.processInput())},null,544),(0,s._)("div",u,null,512)])}var c={name:"Main",props:["state"],data(){return{goodClass:"goodClass",badClass:"badClass",oscript:""}},methods:{redraw(t,e){let n=this.tokenize(t.trim()),r=this.tokenize(e.trim()),s="";for(let o=0;o<t.length;++o){let e=t[o],i=!1,a=!0;n.map(((t,e)=>{a&&t.pos==o&&(a=!1,i=!0,s+='<span class="'+(r[e].value==t.value?"good":"bad")+'Class">',o+=t.value.length-1,s+="\n"==t.value?"<br>":t.value)})),i&&(s+="</span>"),"\n"==e&&(s+="<br>")," "==e&&(s+="&nbsp;")}this.$refs["debug"].innerHTML=s},getCorrection(){if(!this.state.scriptInput.value)return void(this.$refs["debug"].innerHTML="");let t={text:this.state.scriptInput.value};fetch("https://"+this.state.rootDomain+"/autosyntax/autocorrect.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((t=>t.text())).then((e=>{e?this.redraw(t.text,e):this.redraw("","")}))},tokenize(t){if(!t)return[];let e=[],n={pos:0,value:""};return t.split("").map(((t,r)=>{/^[a-zA-Z]/.test(t)&&/^[a-zA-Z]/.test(n.value[n.value.length-1])?n.value+=t:(e=[...e,n],n={pos:r,value:t})})),n&&(e=[...e,n]),e},processInput(){this.$refs["debug"].innerHTML="";let t=this.state.scriptInput.value;if(!t||this.oscript==t)return;this.oscript=t;let e=this.tokenize(t);e.length?this.state.tokens=e.map((t=>({token:t,stale:!0,correction:""}))):(this.state.tokens=[],this.tokens=[],this.$refs["debug"].innerHTML=""),this.getCorrection()}},mounted(){this.state.scriptInput=this.$refs["scriptInput"],this.state.scriptInput.focus()}},l=n(744);const h=(0,l.Z)(c,[["render",p]]);var f,d=h,v={name:"App",components:{Main:d},data(){return{state:{headerText:"test",baseURL:"https://"+window.location.hostname,baseDemoURL:"https://demo."+(f=window.location.hostname.split(".")).filter(((t,e)=>e>f.length-3)).join("."),rootDomain:window.location.hostname,scriptInput:null,tokens:[]}}}};const b=(0,l.Z)(v,[["render",o]]);var g=b;(0,r.ri)(g).mount("#app")}},e={};function n(r){var s=e[r];if(void 0!==s)return s.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,r,s,o){if(!r){var i=1/0;for(c=0;c<t.length;c++){r=t[c][0],s=t[c][1],o=t[c][2];for(var a=!0,u=0;u<r.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](r[u])}))?r.splice(u--,1):(a=!1,o<i&&(i=o));if(a){t.splice(c--,1);var p=s();void 0!==p&&(e=p)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[r,s,o]}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,o,i=r[0],a=r[1],u=r[2],p=0;if(i.some((function(e){return 0!==t[e]}))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(u)var c=u(n)}for(e&&e(r);p<i.length;p++)o=i[p],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(c)},r=self["webpackChunkscriptpro"]=self["webpackChunkscriptpro"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(385)}));r=n.O(r)})();
//# sourceMappingURL=app.ff9e44b9.js.map